<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FitTrack - Workout Preset</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/app.css">
</head>
<!-- ADDED CLASS HERE -->
<body class="preset-page">
    <button id="backToDashboardBtn" class="secondary-button back-to-top-left-btn">< Back to Dashboard</button>
    <div class="container">
        <h1 id="pageTitle">üí™ Plan Your Workout</h1>
        
        <!-- This entire block will be hidden during a live workout -->
        <div id="planningControls">
            <div class="form-group">
                <label>Workout Name:</label>
                <input type="text" id="workoutName" placeholder="Enter workout name" class="input-field">
            </div>
            
            <div class="preset-group">
                <h3>Load/Delete Presets</h3>
                <div class="form-group">
                    <label>Load Preset:</label>
                    <select id="presetSelect" class="preset-select">
                        <option value="">Select a saved preset</option>
                    </select>
                </div>
                <div id="delete-controls-section" class="form-group" style="display: none; flex-direction: row; align-items: center; justify-content: space-between;">
                    <label style="flex: 1; margin-bottom: 0;">Delete Preset:</label>
                    <select id="deletePresetSelect" class="preset-select" style="flex: 2; margin-right: 10px;">
                        <option value="">Select a preset to delete</option>
                    </select>
                    <button id="confirmDeleteBtn" class="secondary-button" style="flex: 1; margin: 0;">Confirm Delete</button>
                </div>
            </div>
            
            <h3>Add Exercise</h3>
            <div class="exercise-group">
                <div class="form-group">
                    <label>Exercise:</label>
                    <input type="text" id="exerciseInput" placeholder="Type or select an exercise" class="input-field">
                    <button id="selectExerciseBtn" class="secondary-button">Select</button>
                </div>
            </div>
            <div class="form-group">
                <label>Number of Sets:</label>
                <input type="number" id="sets" placeholder="Enter number of sets" class="input-field">
            </div>
            <div class="form-group weight-group">
                <label>Weight:</label>
                <input type="number" id="weight" placeholder="Enter weight" class="input-field">
                <button id="weightUnitBtn" class="weight-unit-btn">kg</button>
            </div>
            <div class="form-group">
                <label>Reps per Set:</label>
                <input type="number" id="reps" placeholder="Enter reps per set" class="input-field">
            </div>
            <button id="addOrUpdateExerciseBtn" class="primary-button">Add Exercise</button>
        </div>
        
        <h3>Current Workout Plan</h3>
        <div class="workout-plan" id="workoutPlan">
            <div class="empty-state">No exercises added yet.</div>
        </div>

        <!-- ===== BUTTONS UPDATED ===== -->
        <div class="action-buttons-container">
            <!-- Planning Mode Buttons -->
            <button id="startWorkoutBtn" class="primary-button">Start Workout</button>
            <button id="savePlanBtn" class="secondary-button">Save Plan Only</button>

            <!-- Live Mode Buttons (hidden by default) -->
            <button id="finishWorkoutBtn" class="primary-button" style="display:none;">Finish & Save Workout</button>
            <button id="cancelWorkoutBtn" class="secondary-button" style="display:none;">Cancel Workout</button>
        </div>
        <!-- ===== END OF UPDATE ===== -->
    </div>
    
    <button id="showTimerBtn" class="timer-toggle-btn">
        <h3><span style="font-size: 1.5rem; margin-right: 10px;">‚è±Ô∏è</span> Rest Timer</h3>
    </button>

    <!-- This timer pop-up is hidden by default -->
    <div class="rest-timer">
        <button id="closeTimerBtn" class="close-timer-btn">√ó</button>
        <h3>
            Rest Timer <canvas id="stopwatchCanvas" width="60" height="60"></canvas>
        </h3>
        <div id="timerDisplay" style="font-size: 2rem; font-weight: bold; margin-bottom: 10px; color: var(--accent-color);">5:00</div>
        <button id="startTimerBtn" class="start-button">Start Timer</button>
        <button id="stopTimerBtn" class="stop-button">Stop</button>
        <button id="resetTimerBtn" class="reset-button">Reset</button>
    </div>

    <div id="exerciseModal" class="modal">
        <div class="modal-content">
            <button id="closeModalTopBtn" class="close-modal-top">√ó</button>
            <h3 class="modal-title">Select Exercise</h3>
            <div class="category-buttons" id="categoryButtons">
                <!-- Buttons will be generated by JS -->
            </div>
            <div id="exerciseCategories"></div>
            <button id="closeModalBottomBtn" class="primary-button close-modal">Close</button>
        </div>
    </div>

    <script src="js/preset.js"></script>
</body>
</html>